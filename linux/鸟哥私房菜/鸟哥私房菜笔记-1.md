##主机规划与磁盘分区
IDE——hd[a/b/c/d]
SATA——sd[a-p]

####磁盘的组成
* 磁盘
* 机械手臂
* 读取头
* 马达

每个磁区512bytes，第一个磁区特别重要它记录了整个磁碟的重要信息，本别是：
* 主要启动记录区（Master Boot Record,MBR）：安装启动管理程序（446 bytes）
* 分割表(partition table)：记录整颗硬盘分割的状态，有（64 bytes）

####磁盘分区表
![磁盘分区表](http://vbird.dic.ksu.edu.tw/linux_basic/0130designlinux_files/partition-1.png)

* 其实所谓的『分割』只是针对那个64 bytes的分割表进行配置而已！
* 硬盘默认的分割表仅能写入四组分割资讯
* 这四组分割资讯我们称为主要(Primary)或延伸(Extended)分割槽
* 分割槽的最小单位为磁柱(cylinder)
* 当系统要写入磁碟时，一定会参考磁盘分区表，才能针对某个分割槽进行数据的处理

为什么进行磁盘分区？

1.	数据的安全性：  
	因为每个分割槽的数据是分开的！所以，当你需要将某个分割槽的数据重整时，例如你要将计算机中Windows的C槽重新安装一次系统时， 可以将其他重要数据移动到其他分割槽，例如将邮件、壁纸数据移动到D槽去，那么C槽重灌系统并不会影响到D槽！ 所以善用分割槽，可以让你的数据更安全。 

2.	系统的效能考量：  
	由於分割槽将数据集中在某个磁柱的区段，例如上图当中第一个分割槽位於磁柱号码1~100号，如此一来当有数据要读取自该分割槽时， 磁碟只会搜寻前面1~100的磁柱范围，由於数据集中了，将有助於数据读取的速度与效能！所以说，分割是很重要的！

磁盘分区
![磁盘分区](http://vbird.dic.ksu.edu.tw/linux_basic/0130designlinux_files/partition-2.png)
继续分割出五个分割槽， 这五个由扩展分配继续切出来的分割槽，就被称为逻辑分割槽(logical partition)。  
**因为前面四个号码都是保留给Primary或Extended用的嘛！ 所以逻辑分割槽的装置名称号码就由5号开始了！**

* 主要分割与扩展分配最多可以有四笔(硬盘的限制)
* 扩展分配最多只能有一个(操作系统的限制)
* 逻辑分割是由扩展分配持续切割出来的分割槽；
* 能够被格式化后，作为数据存取的分割槽为主要分割与逻辑分割。扩展分配无法格式化；
* 逻辑分割的数量依操作系统而不同，在Linux系统中，IDE硬盘最多有59个逻辑分割(5号到63号)， SATA硬盘则有11个逻辑分割(5号到15号)。

####启动流程与主要启动记录区(MBR)
整个启动流程到操作系统之前的动作应该是这样的：

1. BIOS：启动主动运行的韧体，会认识第一个可启动的装置；
2. MBR：第一个可启动装置的第一个磁区内的主要启动记录区块，内含启动管理程序；
3. 启动管理程序(boot loader)：一支可读取核心文件来运行的软件；
4. 核心文件：开始操作系统的功能...

boot loader的主要任务有底下这些项目：

1. 提供菜单：使用者可以选择不同的启动项目，这也是多重启动的重要功能！
2. 加载核心文件：直接指向可启动的程序区段来开始操作系统；
3. 转交其他loader：将启动管理功能转交给其他loader负责。

![启动管理程序的工作运行示意图](http://vbird.dic.ksu.edu.tw/linux_basic/0130designlinux_files/loader.gif)

在上图中我们可以发现，MBR的启动管理程序提供两个菜单，菜单一(M1)可以直接加载Windows的核心文件来启动； 菜单二(M2)则是将启动管理工作交给第二个分割槽的启动磁区(boot sector)。当使用者在启动的时候选择菜单二时， 那么整个启动管理工作就会交给第二分割槽的启动管理程序了。 当第二个启动管理程序启动后，该启动管理程序内(上图中)仅有一个启动菜单，因此就能够使用Linux的核心文件来启动罗。 这就是多重启动的工作情况啦！我们将上图作个总结：

1. 每个分割槽都拥有自己的启动磁区(boot sector)
2. 图中的系统槽为第一及第二分割槽，
3. 实际可启动的核心文件是放置到各分割槽内的！
4. loader只会认识自己的系统槽内的可启动核心文件，以及其他loader而已；
5. loader可直接指向或者是间接将管理权转交给另一个管理程序。

####磁盘分区的选择


####命令中数字的含义

<table>
	<tr>
		<th>代号</th>
		<th>代表内容</th>
	</tr>
	<tr>
		<td>1</td>
		<td>使用者在shell环境中可以操作的命令或可运行文件</td>
	</tr>
	<tr>
		<td>2</td>
		<td>系统核心可呼叫的函数与工具等</td>
	</tr>
	<tr>
		<td>3</td>
		<td>一些常用的函数(function)与函式库(library)，大部分为C的函式库(libc)</td>
	</tr>
	<tr>
		<td>4</td>
		<td>装置文件的说明，通常在/dev下的文件</td>
	</tr>
	<tr>
		<td>5</td>
		<td>配置文件或者是某些文件的格式</td>
	</tr>
	<tr>
		<td>6</td>
		<td>游戏(games)</td>
	</tr>
	<tr>
		<td>7</td>
		<td>惯例与协议等，例如Linux文件系统、网络协议、ASCII code等等的说明</td>
	</tr>
	<tr>
		<td>8</td>
		<td>系统管理员可用的管理命令</td>
	</tr>
	<tr>
		<td>9</td>
		<td>跟kernel有关的文件</td>
	</tr>
</table>

###正确的关机方法: sync, shutdown, reboot, halt, poweroff, init

* run level 0：关机
* run level 3：纯文本模式
* run level 5：含有图形接口模式
* run level 6：重新启动